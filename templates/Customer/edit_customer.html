{% extends 'base.html' %}

{% block content %}

<div class="row">
    <div class="col-sm-12">
        <div class="card">
            <div class="card-body">
                <form method="post" action="{% url 'update_customer' %}">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-12">
                            <h5 class="form-title"><span>Edit Customer</span></h5>
                        </div>
                       {% include 'includes/messages.html' %}
                       <!-- <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <label for="">Main Company</label>
                            <select class="form-control" name="client_id" required>
                                <option>Select Company</option>
                                {% for com in company %}
                                <option value="{{com.ClientID}}"{% if com.ClientID == endclient.client.ClientID %} selected {% endif %}>{{com.CompanyName}}</option>
                                {% endfor %}
                            </select>
                        </div>
                       </div> -->
                       <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <label>Customer Name</label>
                            <input type="text" class="form-control" name="CustomerName" value="{{cust.CustomerName}}" required>
                            <input type="text" class="form-control" name="CustomerID" value="{{cust.CustomerID}}" hidden>
                        </div>
                       </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <label>Contact Person</label>
                                <input type="text" class="form-control" name="ContactPerson" value="{{cust.ContactPerson}}" required>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <label>Designation</label>
                                <input type="text" class="form-control" name="Designation" value="{{cust.Designation}}" required>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <label>Name</label>
                                <input type="text" class="form-control" name="Name" value="{{cust.Name}}">
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <label>Email</label>
                                <input type="text" class="form-control" name="Email" value="{{cust.Email}}">
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <label>Phone</label>
                                <input type="text" class="form-control" name="PhoneNo" value="{{cust.PhoneNo}}">
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <label for="">Customer Category</label>
                                <select class="form-control" id="countryddl" name="CustCatID" required>
                                    <option>Select Customer Category</option>
                                    {% for custca in custcat %}
                                    <option value="{{custca.CustCatID}}"{% if custca.CustCatID == cust.CustomerCategory.CustCatID %}selected{% endif %}>{{custca.Name}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <label>WhatsApp Number</label>
                                <input type="text" class="form-control" name="WhatsAppNo" value="{{cust.WhatsAppNo}}">
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <label for="">Province</label>
                                <select class="form-control" name="CityID" required>
                                    <option>Select Province</option>
                                    {% for prov in province %}
                                    <option value="{{prov.ProvinceID}}"{%if prov.ProvinceID == cust.Province.ProvinceID %}selected{% endif %}>{{prov.ProvinceName}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <label for="">Area</label>
                                <select class="form-control" name="AreaID" required>
                                    <option>Select Area</option>
                                    {% for are in area %}
                                    <option value="{{are.AreaID}}"{%if are.AreaID == cust.Area.AreaID %}selected{% endif %}>{{are.AreaName}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <label for="">City</label>
                                <select class="form-control" name="CityID" required>
                                    <option>Select City</option>
                                    {% for cit in city %}
                                    <option value="{{cit.CityID}}"{%if cit.CityID == cust.City.CityID %}selected{% endif %}>{{cit.CityName}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <label for="">Type</label>
                                <select class="form-control" name="CustTypeID" required>
                                    <option>Select Type</option>
                                    {% for custt in custtype %}
                                    <option value="{{custt.CustTypeID}}"{%if custt.CustTypeID == cust.CustomerType.CustTypeID %}selected{% endif %}>{{custt.Name}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <label>Mailing Address</label>
                                <input type="text" class="form-control" name="Address" value="{{cust.Address}}">
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <label>Agents</label>
                                <input type="text" class="form-control" name="Agents" value="{{cust.Agents}}">
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <label>Credit Limit</label>
                                <input type="text" class="form-control" name="CreditLimit" value="{{cust.CreditLimit}}">
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <label>Opening Balance</label>
                                <input type="text" class="form-control" name="OpeningBalance" value="{{cust.OpeningBalance}}">
                            </div>
                        </div>
                        <div class="col-12">
                            <button type="submit" class="btn btn-primary">Update End-Client</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}